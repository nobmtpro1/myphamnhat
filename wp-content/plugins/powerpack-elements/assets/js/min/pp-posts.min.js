!function(y){var k=!0,x=1,a="",b=0;var t=function(o,i){var t,e,n,a,p,s,d,r=o.find(".pp-posts-container"),l=o.find(".pp-posts"),f=o.find(".pp-posts").data("layout"),c=o.find(".pp-post-filters-container").data("search-form"),u=o.find(".pp-search-form-input"),h=o.find(".pp-post-filters-container").data("search-action"),m=o.find(".pp-posts-loader"),g=o.find(".pp-post-filters"),w=o.find(".pp-post-filters-dropdown"),v=o.find(".pp-coupons");function _(){var t=elementorFrontend.config.breakpoints,p=0,e="auto";o.find(".pp-post-wrap").each(function(){i(this).find(".pp-post-content").outerHeight()>p&&(p=i(this).find(".pp-post-content").outerHeight())}),i(window).width()>=t.md&&(e=p),o.find(".pp-post-wrap").css("height",e)}"masonry"==f&&o.imagesLoaded(function(t){l.isotope({layoutMode:f,itemSelector:".pp-grid-item-wrap"})}),C(o,1),g.find(".pp-post-filter").off("click").on("click",function(){var t;i(this).siblings().removeClass("pp-filter-current"),i(this).addClass("pp-filter-current"),x=1,0<w.length&&(t=i(this).data("filter"),w.find('li[data-filter="'+t+'"]').siblings().removeClass("pp-filter-current"),w.find('li[data-filter="'+t+'"]').addClass("pp-filter-current"),w.find(".pp-post-filters-dropdown-button").html(i(this).html())),0<v.length?$(o,i(this),"coupon"):$(o,i(this),"")}),w.find(".pp-post-filters-dropdown-button").on("click",function(){w.find(".pp-post-filters-dropdown-list").toggle()}),w.find(".pp-post-filters-dropdown-item").off("click").on("click",function(){i(this).siblings().removeClass("pp-filter-current"),i(this).addClass("pp-filter-current"),w.find(".pp-post-filters-dropdown-list").hide(),w.find(".pp-post-filters-dropdown-button").html(i(this).html()),x=1;var t=i(this).data("filter");g.find('li[data-filter="'+t+'"]').siblings().removeClass("pp-filter-current"),g.find('li[data-filter="'+t+'"]').addClass("pp-filter-current"),0<v.length?$(o,i(this),"coupon"):$(o,i(this),"")}),(0<g.length||0<w.length)&&(""!==location.hash&&(t=location.hash.split("#")[1],g.find('li[data-filter=".'+t+'"]').trigger("click"),0<w.length&&w.find('li[data-filter=".'+t+'"]').trigger("click")),i(window).on("hashchange",function(){var t;""!==location.hash&&(t=location.hash.split("#")[1],g.find('li[data-filter=".'+t+'"]').trigger("click"),0<w.length&&w.find('li[data-filter=".'+t+'"]').trigger("click"))})),"show"==c&&(u.on({focus:function(){o.find(".pp-search-form").addClass("pp-search-form-focus")},blur:function(){o.find(".pp-search-form").removeClass("pp-search-form-focus")}}),"instant"==h?o.find(".pp-search-form-input").keyup((e=function(){j(o,i(this))},n=n||100,function(){clearTimeout(a);var t=arguments,p=this;a=setTimeout(function(){e.apply(p,t)},n)})):"button-click"==h&&o.find(".pp-search-form-submit").on("click",function(){j(o,i(this))})),r.find(".pp-posts").hasClass("pp-posts-skin-checkerboard")&&o.hasClass("pp-equal-height-yes")&&r.find(".pp-posts").hasClass("pp-posts-height-auto")&&(i(_),i(window).resize(_)),(r.hasClass("pp-posts-infinite-scroll")||v.hasClass("pp-coupons-infinite-scroll"))&&(p=jQuery(window).outerHeight()/1.25,i(window).scroll(function(){return elementorFrontend.isEditMode()?(m.show(),!1):void(v.hasClass("pp-coupons-infinite-scroll")?i(window).scrollTop()+p>=o.find(".pp-coupons-grid-wrapper:last").offset().top&&(t={page_id:o.find(".pp-coupons-grid-wrapper").data("page"),widget_id:o.data("id"),filter:o.find(".pp-filter-current").data("filter"),taxonomy:o.find(".pp-filter-current").data("taxonomy"),skin:o.find(".pp-coupons-grid-wrapper").data("skin"),page_number:o.find(".page-numbers.current").next("a").html(),ajax_for:"coupon"},b=o.find(".pp-posts-pagination").data("total"),1==k&&x<b&&(m.show(),F(o,t,!0),x++,k=!1)):i(window).scrollTop()+p>=o.find(".pp-post:last").offset().top&&(t={page_id:o.find(".pp-posts").data("page"),widget_id:o.data("id"),filter:o.find(".pp-filter-current").data("filter"),taxonomy:o.find(".pp-filter-current").data("taxonomy"),skin:o.find(".pp-posts").data("skin"),page_number:o.find(".pp-posts-pagination .current").next("a").html(),ajax_for:""},b=o.find(".pp-posts-pagination").data("total"),1==k&&x<b&&(m.show(),F(o,t,!0),x++,k=!1)));var t})),"carousel"==f&&(s=o.find(".pp-posts-carousel").eq(0),d=JSON.parse(s.attr("data-slider-settings")),0<s.length&&o.imagesLoaded(function(){s.slick(d)}),i(s).on("setPosition",function(){var t,p;"yes"==(p=(t=o).find(".pp-posts-carousel")).data("equal-height")&&(p.find(".slick-slide").height("auto"),t=p.find(".slick-track"),t=y(t).height(),p.find(".slick-slide").css("height",t+"px"))}))};function s(t){return t.find(".pp-post-load-more").data("count")}function C(t,p){t.find(".pp-post-load-more").attr("data-count",p)}y(document).on("click",".pp-post-load-more",function(t){$scope=y(this).closest(".elementor-widget-pp-posts"),a=$scope.find(".pp-posts-loader");var p,e,o,i,n=y(this).closest(".elementor-widget-pp-coupons");if(coupon_loader=n.find(".pp-posts-loader"),t.preventDefault(),elementorFrontend.isEditMode())return a.show(),coupon_loader.show(),!1;0<n.length?(p=s(n),e=n.find(".pp-filter-current").data("filter"),o=n.find(".pp-filter-current").data("taxonomy"),i={page_id:n.find(".pp-coupons-grid-wrapper").data("page"),widget_id:n.data("id"),filter:e||"",taxonomy:o||"",page_number:p+1,ajax_for:"coupon"},b=n.find(".pp-posts-pagination").data("total"),1==k&&p<b&&(coupon_loader.show(),y(this).hide(),F(n,i,!0,p),p++,k=!1)):(p=s($scope),e=$scope.find(".pp-filter-current").data("filter"),o=$scope.find(".pp-filter-current").data("taxonomy"),i={page_id:$scope.find(".pp-posts").data("page"),widget_id:$scope.data("id"),filter:e||"",taxonomy:o||"",skin:$scope.find(".pp-posts").data("skin"),page_number:p+1,ajax_for:""},b=$scope.find(".pp-posts-pagination").data("total"),1==k&&p<b&&(a.show(),y(this).hide(),F($scope,i,!0,p),p++,k=!1))}),y("body").on("click",".pp-posts-pagination-ajax .page-numbers",function(t){$scope=y(this).closest(".elementor-widget-pp-posts");var p,e,o,i=y(this).closest(".elementor-widget-pp-coupons");"main"!=$scope.find(".pp-posts").data("query-type")&&(t.preventDefault(),0<i.length?(i.find(".pp-coupons-grid-wrapper .pp-coupon").last().after('<div class="pp-post-loader"><div class="pp-loader"></div><div class="pp-loader-overlay"></div></div>'),p=1,e=parseInt(i.find(".pp-posts-pagination .page-numbers.current").html()),p=y(this).hasClass("next")?e+1:y(this).hasClass("prev")?e-1:y(this).html(),o={page_id:i.find(".pp-coupons-grid-wrapper").data("page"),widget_id:i.data("id"),filter:i.find(".pp-filter-current").data("filter"),taxonomy:i.find(".pp-filter-current").data("taxonomy"),page_number:p,ajax_for:"coupon"},y("html, body").animate({scrollTop:i.find(".pp-coupons-wrap").offset().top-30},"slow"),F(i,o)):($scope.find(".pp-posts .pp-post").last().after('<div class="pp-post-loader"><div class="pp-loader"></div><div class="pp-loader-overlay"></div></div>'),p=1,e=parseInt($scope.find(".pp-posts-pagination .page-numbers.current").html()),p=y(this).hasClass("next")?e+1:y(this).hasClass("prev")?e-1:y(this).html(),o={page_id:$scope.find(".pp-posts").data("page"),widget_id:$scope.data("id"),filter:$scope.find(".pp-filter-current").data("filter"),taxonomy:$scope.find(".pp-filter-current").data("taxonomy"),skin:$scope.find(".pp-posts").data("skin"),page_number:p,ajax_for:""},y("html, body").animate({scrollTop:$scope.find(".pp-posts-container").offset().top-30},"slow"),F($scope,o)))});var $=function(t,p,e){p="coupon"===e?(t.find(".pp-coupons-grid-wrapper .pp-grid-item-wrap").last().after('<div class="pp-posts-loader-wrap"><div class="pp-loader"></div><div class="pp-loader-overlay"></div></div>'),{page_id:t.find(".pp-coupons-grid-wrapper").data("page"),widget_id:t.data("id"),filter:p.data("filter"),taxonomy:p.data("taxonomy"),page_number:1,ajax_for:"coupon"}):(t.find(".pp-posts .pp-grid-item-wrap").last().after('<div class="pp-posts-loader-wrap"><div class="pp-loader"></div><div class="pp-loader-overlay"></div></div>'),{page_id:t.find(".pp-posts").data("page"),widget_id:t.data("id"),filter:p.data("filter"),taxonomy:p.data("taxonomy"),skin:t.find(".pp-posts").data("skin"),page_number:1,ajax_for:""}),F(t,p)},j=function(t,p){t.find(".pp-posts .pp-grid-item-wrap").last().after('<div class="pp-posts-loader-wrap"><div class="pp-loader"></div><div class="pp-loader-overlay"></div></div>');var e={page_id:t.find(".pp-posts").data("page"),widget_id:t.data("id"),search:t.find(".pp-search-form-input").val(),page_number:1};F(t,e)},F=function(a,s,d,r){var l=a.find(".pp-posts-loader");y.ajax({url:pp_posts_script.ajax_url,data:{action:"pp_get_post",page_id:s.page_id,widget_id:s.widget_id,category:s.filter,search:s.search,taxonomy:s.taxonomy,skin:s.skin,page_number:s.page_number,ajax_for:s.ajax_for,nonce:pp_posts_script.posts_nonce},dataType:"json",type:"POST",success:function(t){var p,e,o,i,n;k=("coupon"===s.ajax_for?(p=a.find(".pp-coupons-grid-wrapper"),(e=a.find(".pp-posts-empty")).remove(),0==y(e).length&&y(t.data.not_found).insertBefore(p),1==d?(o=t.data.html,p.append(o)):p.html(t.data.html),a.find(".pp-posts-pagination-wrap").html(t.data.pagination)):(p=a.find(".pp-posts"),(e=a.find(".pp-posts-empty")).remove(),0==y(e).length&&y(t.data.not_found).insertBefore(p),1==d?(o=t.data.html,p.append(o)):p.html(t.data.html),a.find(".pp-posts-pagination-wrap").html(t.data.pagination),i=a.find(".pp-posts").data("layout"),n=a.find(".pp-posts"),"masonry"==i&&a.imagesLoaded(function(){n.isotope("destroy"),n.isotope({layoutMode:i,itemSelector:".pp-grid-item-wrap"})})),!0),1==d&&(l.hide(),a.find(".pp-post-load-more").show()),C(a,s.page_number),(r+=1)==b&&a.find(".pp-post-load-more").hide(),a.trigger("posts.rendered")}}),setTimeout(()=>{0<a.find(".elementor-invisible").length&&a.find(".elementor-invisible").removeClass("elementor-invisible")},1e3)};y(window).on("elementor/frontend/init",function(){elementorFrontend.hooks.addAction("frontend/element_ready/pp-posts.classic",t),elementorFrontend.hooks.addAction("frontend/element_ready/pp-posts.card",t),elementorFrontend.hooks.addAction("frontend/element_ready/pp-posts.checkerboard",t),elementorFrontend.hooks.addAction("frontend/element_ready/pp-posts.creative",t),elementorFrontend.hooks.addAction("frontend/element_ready/pp-posts.event",t),elementorFrontend.hooks.addAction("frontend/element_ready/pp-posts.news",t),elementorFrontend.hooks.addAction("frontend/element_ready/pp-posts.portfolio",t),elementorFrontend.hooks.addAction("frontend/element_ready/pp-posts.overlap",t),elementorFrontend.hooks.addAction("frontend/element_ready/pp-posts.template",t),elementorFrontend.hooks.addAction("frontend/element_ready/pp-coupons.default",t)})}(jQuery);